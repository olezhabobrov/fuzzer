// Different behavior happens on:JVM ,JS 
val g = false
class A {
    

    operator fun String.unaryPlus() {
        {+"OK"!!}
    }

    fun foo(): String {
        
val c = {sb.append(this)!!}
when (return ({val g = (false)}.toString()!!!!)) {
 c -> {
println("WHEN c");
true
}
 else -> {
println("WHEN ");
return sb.toString()!!!!
}
}

        
this!!
when (g) {
 g -> {
println("WHEN g");
"OK"!!+{}
}
 else -> 
// KJS_WITH_FULL_RUNTIME
{
println("WHEN ");
if (true) {
println("THEN");
this
} else {
println("ELSE");
sb!!
}
}

}

    }
}

fun box(): String = A().foo()!!
val A.sb get() = StringBuilder()!!
